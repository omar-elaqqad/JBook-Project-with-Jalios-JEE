!function(d){var b=function(){let selectedLinkType=d("SELECT[name=linkType]").find(":selected");if(d(selectedLinkType).val()=="content"){d("INPUT[name=categorylink]:checked").each(function(g,h){d(h).prop("checked",false)});d(".categorylink").val("");d(".widget-name-publicationLink").removeClass("hide");d(".widget-name-categorylink").addClass("hide");d(".widget-name-linkLabel").removeClass("hide")}else{if(d(selectedLinkType).val()=="category"){d(".widget-name-publicationLink").addClass("hide");d(".widget-name-categorylink").removeClass("hide");d(".widget-name-linkLabel").removeClass("hide");d(".publicationLink").val("")}else{d(".publicationLink").val("");d(".linkLabel").val("");d("INPUT[name=categorylink]:checked").each(function(g,h){d(h).prop("checked",false)});d(".categorylink").val("");d(".widget-name-publicationLink").addClass("hide");d(".widget-name-categorylink").addClass("hide");d(".widget-name-linkLabel").addClass("hide")}}};var a=function(){let selectedPercentage=d("INPUT[name=percentage]:checked");if(d(selectedPercentage).val()=="true"){d(".widget-name-targetValue").addClass("hide");d(".widget-name-unit").addClass("hide")}else{d(".widget-name-targetValue").removeClass("hide");d(".widget-name-unit").removeClass("hide")}};var e=function(){let selectedCustom=d("INPUT[name=indicatorType]:checked");if(d(selectedCustom).val()==="MANUAL"){let metric=d("SELECT[name=metric]");d(metric).val("");d(".metric-editor").remove()}};var f=function(){a();b();e()};var c=function(){d(document).on("click",".card-choice-item",function(g){let mode=d(g.currentTarget).data("jalios-indicator-type");d(".card-choice-item").removeClass("active");d(".card-choice-item").find("input").prop("checked",false);d(g.currentTarget).addClass("active");d(g.currentTarget).find("input").prop("checked","checked").trigger("change");d(".indicator-type-fields").addClass("hide");d(".indicator-type-fields-"+mode).removeClass("hide")});d(document).on("input change propertychange",".indicator-metric-params :input",function(g){let jsonArray={};d(".indicator-metric-params :input").each(function(h,i){if(d(i).is(":radio")||d(i).is(":checkbox")){if(d(i).is(":checked")){jsonArray[d(i).attr("name")]=d(i).val()}}if(d(i).is("select")){let selectedOption=d(i).find(":selected");jsonArray[d(i).attr("name")]=d(selectedOption).val()}if(d(i).hasClass("form-control-value")){jsonArray[d(i).attr("name")]=d(i).val()}if(d(i).hasClass("duration")){jsonArray[d(i).attr("name")]=d(i).val()}if(d(i).hasClass("control-timezone")){jsonArray[d(i).attr("name")]=d(i).val()}});d("INPUT[name=metricParameters]").val(JSON.stringify(jsonArray))});d(document).on("input change propertychange","INPUT[name=percentage]",function(g){a()});d(document).on("input change propertychange","SELECT[name=linkType]",function(g){b()});d(document).on("input change propertychange","INPUT[name=indicatorType]",function(g){let selectedCustom=d("INPUT[name=indicatorType]:checked");if(d(selectedCustom).val()==="MANUAL"){d("INPUT[name=metricParameters]").val("");e()}});f()};d(document).ready(function(g){c();g(document).on("jalios:refresh",function(h){if(h.refresh.type==="after"){if(g(h.refresh.target).is(".typeahead-menu")){return}f()}})})}(window.jQuery);