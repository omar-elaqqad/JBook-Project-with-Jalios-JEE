!function(a){tinymce.PluginManager.add("jcodesample",function(e,c){function f(g){return g&&g.nodeName=="CODE"}var b=function(g){var h=g.selection.getStart();return g.dom.is(h,"code")||g.dom.is(h,'pre[class*="language-"]')};const d=e.ui.registry.getAll().buttons.codesample;if(d){d.onAction=function(){e.execCommand("jcodesample")};d.onSetup=function(h){var g=function(){h.setActive(b(e))};e.on("NodeChange",g);return function(){return e.off("NodeChange",g)}}}e.addCommand("jcodesample",function(){var g=e.selection.getNode();if(e.selection.isCollapsed()&&f(g)){e.formatter.remove("code");return}e.execCommand("codesample")});e.ui.registry.addMenuItem("jcodesample",{text:"Insert/Edit Code Sample",icon:"code-sample",onAction:function(){e.execCommand("jcodesample")}})})}(window.jQuery);