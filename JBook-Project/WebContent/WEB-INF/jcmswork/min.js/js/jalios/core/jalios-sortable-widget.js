!function(b){var a=function(){b(document).on("focusin",".sortable-lazy :input",function(){var d=b(this).closest(".sortable-lazy");b.jalios.Sortable.buildSortable(d);d.children().each(function(e){b(this).data("jalios.sortable",e)})});b(document).on("jalios:sortable",c)};var c=function(f){var j=b.jalios.Event.match(f,"sortable");if(!j){return}var i=b(j.container);if(!i||!i.hasClass("tab-group-list")){return}var e=j.ui.item;var d=i.children(".tab-group-list-item").index(e);var g=e.children();var h=g.data("jalios-fieldgroup");b(h?"A[data-jalios-fieldgroup="+h+"]":g).each(function(){var q=b(this);var l=q.closest(".tab-pane.wdglang");var m=l.exists()?l:b.jalios.ui.Widget.getWidget(q);var p=m.find(".tab-group-list");var o=q.closest(".tab-group-list-item");var t=p.find(".tab-group-list-item");var r=t.get(d);if(r!==o[0]){if(t.index(o)>d){o.insertBefore(r)}else{o.insertAfter(r)}}var u=m.find(".input-group-list");var n=u.find(q.attr("href"));var s=u.find(".input-group-list-item");var k=s.get(d);if(k!==n[0]){n.find(".form-control").each(function(){var v=b(this);if(v.hasClass("control-wysiwyg")){v.removeWysiwyg()}});if(s.index(n)>d){n.insertBefore(k)}else{n.insertAfter(k)}n.find(".form-control").each(function(){var v=b(this);if(v.hasClass("control-wysiwyg")){v.initWysiwyg()}})}var t=p.find(".tab-group-list-item").each(function(y){var B=b(this);var w=B.children();var v=w.attr("href");var x=v.substring(0,v.lastIndexOf("_")+1)+y;w.attr("href",x).html(y+1);var A=w.data("jalios-fieldgroup");if(A){var z=A.substring(0,A.lastIndexOf("_")+1)+y;w.data("jalios-fieldgroup",z);w.attr("data-jalios-fieldgroup",z)}});var s=u.find(".input-group-list-item").each(function(w){var x=b(this);var y=x.attr("id");var v=y.substring(0,y.lastIndexOf("_")+1)+w;x.attr("id",v)})})};b(document).ready(function(d){a()})}(window.jQuery);