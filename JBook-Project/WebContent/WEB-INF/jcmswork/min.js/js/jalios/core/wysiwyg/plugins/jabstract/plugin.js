!function(a){tinymce.PluginManager.add("jabstract",function(g,e){var c="jalios:abstract";var b="div";var d="jalios-abstract";var f=g.getParam("abstract_template","<"+c+">@body@</"+c+">");var i=g.getParam("abstract_placeholder","<"+b+' class="'+d+'">@body@</'+b+">");g.on("ResolveName",function(k){var j=k.target;if(h(j)){k.name="jalios:abstract"}});function h(j){return j.nodeName.toUpperCase()===b.toUpperCase()&&g.dom.hasClass(j,d)}g.on("PreInit",function(){g.serializer.addNodeFilter(b,function(j){var l=j.length,n,m;while(l--){n=j[l];m=n.attr("class");if(m&&m.indexOf(d)!==-1){var k=a.wysiwyg.utils.node(f.replace(/@body@/g,""),g);a.wysiwyg.utils.moveChildren(n,k);n.replace(k)}}});g.parser.addNodeFilter(c,function(j){var l=j.length,n,m;while(l--){n=j[l];var k=a.wysiwyg.utils.node(i.replace(/@body@/g,""),g);a.wysiwyg.utils.moveChildren(n,k);n.replace(k)}})});a.wysiwyg.utils.addElementExitShortcut(g,{rootElement:function(j){var m=g.dom;var l=m.getParent(j,m.isBlock);var k=l.parentNode;return k.nodeName==="DIV"&&k.classList.contains("jalios-abstract")?k:null},paramName:"jabstract_new_element"})})}(window.jQuery);