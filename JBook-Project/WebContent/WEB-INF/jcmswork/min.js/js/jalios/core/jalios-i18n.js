!function(b){if(!b.jalios){b.jalios={}}var a=function(){b(document).on("click","A.lang-trigger",function(f){var e=b(f.currentTarget);f.preventDefault();var d=e.attr("lang")||e[0].lang;b.jalios.I18N.toggleLang(d)});b(document).on("jalios:refresh",function(e){var d=b.jalios.Event.match(e,"refresh","after");if(!d||!d.target){return}c(d.target)});c()};var c=function(e){var d=b(e||document);d.find("FORM.lang-trigger").each(function(){var f=b(this);b.jalios.I18N.toggleScope(f.attr("lang"),f)});d.find("A.lang-fix").each(function(){var f=b(this);b.jalios.I18N.toggleLang(f.attr("lang"),f)})};b.jalios.I18N={glp:function(d){if(typeof I18N==="undefined"){return d}return I18N.glp.apply(this,arguments)},toggleLang:function(g,e){if(!g||g===""){return}var d=b(e||"#"+CtxMenuManager.latestElement);var f=d.data("jalios-target")?d.data("jalios-target"):d.closest("FORM");return b.jalios.I18N.toggleScope(g,f)},toggleScope:function(g,i){var f=b(i);if(!f.exists()){return}var h=f.identify("jq").attr("id");var e=f.data("jalios.lang.stamp");if(!e){e="lang-"+new Date().getTime();f.addClass(e);f.data("jalios.lang.stamp",e)}if(f.data("jalios.lang")){JCMS.util.StyleSheet.removeRule(".js ."+e+" .wdglang-"+f.data("jalios.lang"))}JCMS.util.StyleSheet.putRule(".js ."+e+" .wdglang","display: none;");JCMS.util.StyleSheet.putRule(".js ."+e+" .wdglang-"+g,"display: block;");f.data("jalios.lang",g);f.attr("lang",g);var d=b("#ctxLangForm SPAN.iso-639-visual[data-jalios-lang="+g+"]").first();f.find(".ctxLangForm SPAN.iso-639-visual").each(function(){b(this).replaceWith(d.clone())});document.fire("tabwdg:change",{tabPage:f.identify()})}};b(document).ready(function(d){a()})}(window.jQuery);