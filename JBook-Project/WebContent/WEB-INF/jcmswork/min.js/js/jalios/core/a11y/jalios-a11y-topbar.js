!(function(c){let lastFocusedElement;const a=function(d,e){let focusInformation=c.jalios.a11y.getFocusInformation(e);let $slideWrapper=e.find(".slide-wrapper");if($slideWrapper.exists()&&!$slideWrapper.hasClass("keyboard-initialized")){$slideWrapper.on("jalios.topbar.slidemenu.transition.end jalios.topbar.slidemenu.backToMainMenu",function(f){c(document).off("keydown.jalios.topbar.dropdown");$slideWrapper.addClass("keyboard-initialized");c(focusInformation.firstFocusableElement).focus();a(f,e)})}c(focusInformation.lastFocusableElement).on("keydown.jalios.topbar.dropdown",function(f){if(f.keyCode===9&&!(f.shiftKey|f.ctrlKey|f.metaKey|f.altKey)){f.preventDefault();focusInformation.firstFocusableElement.focus()}});c(focusInformation.firstFocusableElement).on("keydown.jalios.topbar.dropdown",function(f){if(f.keyCode===9&&f.shiftKey){f.preventDefault();c(focusInformation.lastFocusableElement).focus()}})};const b=function(){c(document).on("shown.bs.dropdown",function(d){lastFocusedElement=document.activeElement;let $dropdown=c(d.target).closest(".dropdown-topbar").find(".dropdown-menu");if($dropdown.closest(".topbar-application-launcher").exists()){c(document).on("jalios.application-launcher",function(e){if(e.applicationLauncher.name==="renderComplete"){a(e,$dropdown)}})}else{if($dropdown.closest("[data-jalios-dropdown-topbar-lazy-url]").exists()){c(document).on("jalios:topbar-dropdown",function(e){a(e,$dropdown)})}else{a(d,$dropdown)}}});c(document).on("hide.bs.dropdown",function(d){c(document).off("keydown.jalios.topbar.dropdown");c(lastFocusedElement).focus();lastFocusedElement=undefined})};c(document).ready(function(){b()})})(jQuery,window,document);