!function(a){tinymce.PluginManager.add("emoji",function(d,c){var b="emoji";d.on("ResolveName",function(f){if(f.target.nodeName=="IMG"&&d.dom.hasClass(f.target,b)){f.name="emoji"}});d.on("SetContent",function(h){a.jalios.Emoji.parse(d.contentWindow.document.body,{className:b,attributes:function f(i,e){return{"data-mce-placeholder":"true","data-mce-resize":"false"}}});var g=a(d.contentWindow.document.body).find("PRE IMG.emoji");g.each(function(){var e=a(this);e.replaceWith(e.attr("alt"))})});d.on("PreInit",function(){d.serializer.addNodeFilter("img",function(e){var f=e.length,h,g,j;while(f--){h=e[f];g=h.attr("class");j=h.attr("alt");if(j&&j!==""&&g&&g.indexOf("emoji")!==-1){h.type=3;h.value=j;h.raw=true}}})})})}(window.jQuery);