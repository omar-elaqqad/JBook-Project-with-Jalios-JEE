!(function(c){let _smartphoneAlertsUnreadInfo;const b=function(d,e){c.jalios.smartPhone.Alerts.updateAlertCount()};const a=function(d,e){if(!_smartphoneAlertsUnreadInfo){_smartphoneAlertsUnreadInfo={count:d,level:e};return false}let countChanged=_smartphoneAlertsUnreadInfo.count!==d;let levelChanged=_smartphoneAlertsUnreadInfo.level!==e;if(countChanged||levelChanged){_smartphoneAlertsUnreadInfo={count:d,level:e};return true}return false};if(!c.jalios){c.jalios={}}if(!c.jalios.smartPhone){c.jalios.smartPhone={}}c.jalios.smartPhone.Alerts={updateAlertCount:function(){c.ajax({url:"plugins/SmartPhonePlugin/jsp/common/doAlertCount.jsp"}).then(function(d,e){if(e==="success"&&typeof d==="object"){let prevUnreadInfo=_smartphoneAlertsUnreadInfo;let text=d.unreadCount;if(!text){return}let config={};config.value=parseInt(text,10);if(!_smartphoneAlertsUnreadInfo||a(config.value,d.maxLevel)){config.animate=config.value>0&&(!prevUnreadInfo||prevUnreadInfo.count<config.value);_smartphoneAlertsUnreadInfo={count:config.value,level:d.maxLevel}}if(d.maxLevel){switch(d.maxLevel){case"action":config.level=c.jalios.smartPhone.Badge.levels.WARN;break;case"warning":config.level=c.jalios.smartPhone.Badge.levels.DANGER;break;default:config.level=c.jalios.smartPhone.Badge.levels.INFO}}config.$element=c(".bottom-nav-item-alerts");c.jalios.smartPhone.Badge.setBadge(config)}})}};c(document).on("pagecontainerbeforeshow",b)})(window.jQuery);