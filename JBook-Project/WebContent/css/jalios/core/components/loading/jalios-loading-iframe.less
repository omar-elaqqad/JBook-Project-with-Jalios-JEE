@import "../../init-mixins.less";

@loading-viewbox-width: 100;
@loading-viewbox-height: 100;
@loading-svg-width: 100px;
@loading-svg-height: 100px;
@loading-svg-bar-posy: 30;
@loading-svg-bar-width: 10;
@loading-svg-bar-height: 40;
@loading-svg-color: #999999;


@svg-loading: ~`'<svg width="@{loading-svg-width}" height="@{loading-svg-height}" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 @{loading-viewbox-width} @{loading-viewbox-height}" preserveAspectRatio="xMidYMid" class="lds-bars" style="background: none;"> \
  <rect ng-attr-x="{{config.x1}}" y="@{loading-svg-bar-posy}" ng-attr-width="{{config.width}}" height="@{loading-svg-bar-height}" fill="@{loading-svg-color}" x="15" width="@{loading-svg-bar-width}"> \
    <animate attributeName="opacity" calcMode="spline" values="1;0.2;1" keyTimes="0;0.5;1" dur="1.2" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" begin="-0.72s" repeatCount="indefinite"></animate> \
  </rect> \
  <rect ng-attr-x="{{config.x2}}" y="@{loading-svg-bar-posy}" ng-attr-width="{{config.width}}" height="@{loading-svg-bar-height}" fill="@{loading-svg-color}" x="35" width="@{loading-svg-bar-width}"> \
    <animate attributeName="opacity" calcMode="spline" values="1;0.2;1" keyTimes="0;0.5;1" dur="1.2" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" begin="-0.48s" repeatCount="indefinite"></animate> \
  </rect> \
  <rect ng-attr-x="{{config.x3}}" y="@{loading-svg-bar-posy}" ng-attr-width="{{config.width}}" height="@{loading-svg-bar-height}" fill="@{loading-svg-color}" x="55" width="@{loading-svg-bar-width}"> \
    <animate attributeName="opacity" calcMode="spline" values="1;0.2;1" keyTimes="0;0.5;1" dur="1.2" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" begin="-0.24s" repeatCount="indefinite"></animate> \
  </rect> \
  <rect ng-attr-x="{{config.x4}}" y="@{loading-svg-bar-posy}" ng-attr-width="{{config.width}}" height="@{loading-svg-bar-height}" fill="@{loading-svg-color}" x="75" width="@{loading-svg-bar-width}"> \
    <animate attributeName="opacity" calcMode="spline" values="1;0.2;1" keyTimes="0;0.5;1" dur="1.2" keySplines="0.5 0 0.5 1;0.5 0 0.5 1" begin="0s" repeatCount="indefinite"></animate> \
  </rect> \
</svg>'`;

IFRAME.loading {
  background: url('data:image/svg+xml;charset=utf-8,@{svg-loading}') center 40% no-repeat;
}