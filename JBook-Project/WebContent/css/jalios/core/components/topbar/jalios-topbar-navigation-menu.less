@import '../../../core/init-mixins.less';

.topbar-navigation-menu-wrapper {
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: @topbar-bg;
  position: absolute;
  transform: translateY(@topbar-height - @topbar-navigation-height);
  left: 0;
  right: 0;
  .transition(transform 500ms cubic-bezier(0.45, 0.05, 0.55, 0.95));
  will-change: transform;
  .topbar-navigation-menu {
    visibility: hidden;
  }

  &.is-expanded {
    transform: translateY(@topbar-height);
    z-index: @topbar-navigation-z-index;
    box-shadow: -2px 3px 5px -2px rgba(0, 0, 0, 0.8);
    .topbar-navigation-menu {
      visibility: visible;
    }
    &:after {
      content: '';
      background-color: rgba(0, 0, 0, 0.1);
      left: 0;
      right: 0;
      height: 1px;
      position: absolute;
      top: 0;
    }
  }
}

.topbar-navigation-menu-wrapper {
  height: @topbar-navigation-height;
}

.topbar-pull-wrapper {
  display: flex;
  position: absolute;
  bottom: -23px;
  width: 56px;
  height: 23px;
  cursor: pointer;
  left: 50%;
  margin-left: -28px;
}

.topbar-pull {
  position: absolute;
  fill: white;
  left: 50%;
  margin-left: -28px;
  -webkit-filter: drop-shadow(-1px 2px 1px rgba(0, 0, 0, 0.2));
  filter: drop-shadow(-1px 2px 1px rgba(0, 0, 0, 0.2));
  .topbar-pull-shape {
    fill: @topbar-bg;
  }

  > .topbar-pull-handle {
    fill: @topbar-item-color;
    width: 6px;
    height: 2px;
  }
}

.topbar-navigation-menu {
  background-color: @topbar-bg;
  height: @topbar-navigation-height;
  line-height: @topbar-navigation-height;
  display: flex;
  width: @topbar-width;
  align-self: center;
  padding: 0 @topbar-baseline*3;

  .topbar-navigation-menu-items {
    margin: 0 auto;
    padding: 0;
    list-style-type: none;
    border: 0 none;
    > LI {
      float: left;
      position: relative;

      > A {
        color: @topbar-item-color;
        font-size: @topbar-baseline*2;
        padding: @topbar-baseline*2 @topbar-baseline*6 @topbar-baseline;
        .transition(color 400ms ease-in);
        will-change: color;
        text-decoration: none;
        position: relative;
        border: 0 none;
        &:after {
          content: '';
          transition: opacity 400ms ease-in-out;
          opacity: 0;
          will-change: transform;
          left: 0;
          right: 0;
          bottom: 0;
          width: 100%;
          background-color: @topbar-item-color-hover;
          position: absolute;
          height: 2px;
        }

        &:hover {
          color: @topbar-item-color-hover;
          background-color: transparent;
          border: 0 none;
          box-shadow: none;
          &:after {
            opacity: 1;
          }
        }
      }

      &.active:is(.dropdown) > A {
        color: @topbar-item-color-hover;
        border-bottom: 1px solid @topbar-item-color-hover;
        cursor: pointer;
      }
      &.active:not(.dropdown) A {
        color: @topbar-item-color-hover;
        border-bottom: 1px solid @topbar-item-color-hover;

        &:hover {
          color: darken(@topbar-item-color-hover, 10%);
          border-bottom: 1px solid darken(@topbar-item-color-hover, 10%);
        }
      }
    }
  }
  // Add a border top only when in a dropdown
  // (no top border when CS Hub link is at main level)
  LI.dropdown LI.topbar-cshub-link {
    border-top: 1px solid #ddd;
  }
}
