<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.16) on Thu May 04 09:57:01 CEST 2023 -->
<title>QuotaManager (JCMS API)</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2023-05-04">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../jquery/jquery-3.5.1.js"></script>
<script type="text/javascript" src="../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="QuotaManager (JCMS API)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":9,"i6":10,"i7":10,"i8":10,"i9":9,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10,"i21":9,"i22":10,"i23":10,"i24":10,"i25":10,"i26":10,"i27":10,"i28":10,"i29":10,"i30":10,"i31":10,"i32":10,"i33":10,"i34":10,"i35":10,"i36":10,"i37":10,"i38":10,"i39":10,"i40":10,"i41":10,"i42":10,"i43":10,"i44":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QuotaManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.jalios.jcms.quota</a></div>
<h2 title="Class QuotaManager" class="title">Class QuotaManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.jalios.jcms.quota.QuotaManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../AssociatedFilesEventListener.html" title="interface in com.jalios.jcms">AssociatedFilesEventListener</a></code>, <code><a href="../../jdring/AlarmListener.html" title="interface in com.jalios.jdring">AlarmListener</a></code>, <code><a href="../../util/JPropertiesListener.html" title="interface in com.jalios.util">JPropertiesListener</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">QuotaManager</span>
extends java.lang.Object
implements <a href="../../util/JPropertiesListener.html" title="interface in com.jalios.util">JPropertiesListener</a>, <a href="../AssociatedFilesEventListener.html" title="interface in com.jalios.jcms">AssociatedFilesEventListener</a>, <a href="../../jdring/AlarmListener.html" title="interface in com.jalios.jdring">AlarmListener</a></pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="QuotaManager.WorkspaceNode.html" title="class in com.jalios.jcms.quota">QuotaManager.WorkspaceNode</a></span></code></th>
<td class="colLast">
<div class="block">Inner class to save a workspace and it's level in hierarchy</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="QuotaManager.WorkspaceNodeComparator.html" title="class in com.jalios.jcms.quota">QuotaManager.WorkspaceNodeComparator</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ADMIN_QUOTA_CHECK_SCHEDULE">ADMIN_QUOTA_CHECK_SCHEDULE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ADMIN_QUOTA_DEFAULT_WORKSPACE_ALERT_THRESHOLD">ADMIN_QUOTA_DEFAULT_WORKSPACE_ALERT_THRESHOLD</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ADMIN_QUOTA_DEFAULT_WORKSPACE_QUOTA">ADMIN_QUOTA_DEFAULT_WORKSPACE_QUOTA</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ADMIN_QUOTA_DELAY_BETWEEN_QUOTA_ALERT">ADMIN_QUOTA_DELAY_BETWEEN_QUOTA_ALERT</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ADMIN_QUOTA_MAXIMUM_SITE_QUOTA">ADMIN_QUOTA_MAXIMUM_SITE_QUOTA</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#ADMIN_QUOTA_SITE_ALERT_THRESHOLD">ADMIN_QUOTA_SITE_ALERT_THRESHOLD</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.ExecutorService</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#analyzerThreadPool">analyzerThreadPool</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected java.util.Map&lt;java.lang.String,&#8203;<a href="../FileSize.html" title="class in com.jalios.jcms">FileSize</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#cacheFileSize">cacheFileSize</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CHANNEL_FILE_ANALYZER_THREAD_POOL_SIZE">CHANNEL_FILE_ANALYZER_THREAD_POOL_SIZE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CHANNEL_QUOTA_FEATURE">CHANNEL_QUOTA_FEATURE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CHANNEL_QUOTA_MANAGEMENT_ENABLED">CHANNEL_QUOTA_MANAGEMENT_ENABLED</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#CHANNEL_WS_UPDATER_THREAD_POOL_SIZE">CHANNEL_WS_UPDATER_THREAD_POOL_SIZE</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota">WorkspaceFileSizeResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channelFileAnalyzer">channelFileAnalyzer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected <a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#channelQuotaAlert">channelQuotaAlert</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="FileAnalyzerThread.html" title="class in com.jalios.jcms.quota">FileAnalyzerThread</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#currentChannelAnalyzerThread">currentChannelAnalyzerThread</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_ALERT_THRESHOLD">DEFAULT_ALERT_THRESHOLD</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_DELAY">DEFAULT_DELAY</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_SITE_QUOTA">DEFAULT_SITE_QUOTA</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_WORKSPACE_QUOTA">DEFAULT_WORKSPACE_QUOTA</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#lastChannelQuotaNotificationDate">lastChannelQuotaNotificationDate</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected <a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota">WorkspaceFileSizeResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#previousChannelFileAnalyzer">previousChannelFileAnalyzer</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#REJECT_UPLOAD_OVER_QUOTA_PROPERTIES_NAME">REJECT_UPLOAD_OVER_QUOTA_PROPERTIES_NAME</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected java.util.concurrent.ExecutorService</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#wsUpdaterThreadPool">wsUpdaterThreadPool</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.com.jalios.jdring.AlarmListener">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.jalios.jdring.<a href="../../jdring/AlarmListener.html" title="interface in com.jalios.jdring">AlarmListener</a></h3>
<code><a href="../../jdring/AlarmListener.html#REVISION">REVISION</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.com.jalios.util.JPropertiesListener">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;com.jalios.util.<a href="../../util/JPropertiesListener.html" title="interface in com.jalios.util">JPropertiesListener</a></h3>
<code><a href="../../util/JPropertiesListener.html#REVISION">REVISION</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addDocumentToVersionCache(com.jalios.jcms.FileDocument)">addDocumentToVersionCache</a></span>&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</code></th>
<td class="colLast">
<div class="block">Add the current filename of the specified FileDocument to the cache.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addDocumentVersionToVersionCache(com.jalios.jcms.FileDocument,com.jalios.jcms.FileDocument)">addDocumentVersionToVersionCache</a></span>&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;oldFileDoc,
                                <a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</code></th>
<td class="colLast">
<div class="block">Add the current filename of the new FileDocument version to the cache.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#associatedFileEventFired(com.jalios.jcms.AssociatedFileEvent)">associatedFileEventFired</a></span>&#8203;(<a href="../AssociatedFileEvent.html" title="class in com.jalios.jcms">AssociatedFileEvent</a>&nbsp;event)</code></th>
<td class="colLast">
<div class="block">Trigger a quota refresh if a new associated file is added/updated or deleted</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkQuotas()">checkQuotas</a></span>()</code></th>
<td class="colLast">
<div class="block">Check all quotas and send notifications if needed.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#checkQuotas(com.jalios.jcms.workspace.Workspace)">checkQuotas</a></span>&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;workspace)</code></th>
<td class="colLast">
<div class="block">Check workspace quota and send notifications if needed, this method is called after the end of an analyzeThread.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static <a href="../FileSize.html" title="class in com.jalios.jcms">FileSize</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#computeFileSizes(java.io.File,com.jalios.jcms.AssociatedFilesManager)">computeFileSizes</a></span>&#8203;(java.io.File&nbsp;realFile,
                <a href="../AssociatedFilesManager.html" title="class in com.jalios.jcms">AssociatedFilesManager</a>&nbsp;afMgr)</code></th>
<td class="colLast">
<div class="block">Compute file size (with and without associated files)</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../AssociatedFilesEventListener.html" title="interface in com.jalios.jcms">AssociatedFilesEventListener</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#createAssociatedFilesEventListener()">createAssociatedFilesEventListener</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#deleteDocumentFromVersionCache(com.jalios.jcms.FileDocument)">deleteDocumentFromVersionCache</a></span>&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</code></th>
<td class="colLast">
<div class="block">Remove filename of the specified FileDocument from the cache.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="FileAnalyzerThread.html" title="class in com.jalios.jcms.quota">FileAnalyzerThread</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#executeFileAnalyzerThread(com.jalios.jcms.workspace.Workspace)">executeFileAnalyzerThread</a></span>&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;workspace)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>static java.util.List&lt;<a href="QuotaManager.WorkspaceNode.html" title="class in com.jalios.jcms.quota">QuotaManager.WorkspaceNode</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#generateWorkspaceTreeList()">generateWorkspaceTreeList</a></span>()</code></th>
<td class="colLast">
<div class="block">Generate <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a> <code>List</code> ordered by tree order and with <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a>.getNameComparator by level</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>java.util.concurrent.ExecutorService</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getAnalyzerThreadPool()">getAnalyzerThreadPool</a></span>()</code></th>
<td class="colLast">
<div class="block">get analyzer thread pool use to count real file size in background mode</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCachedVersionList(com.jalios.jcms.FileDocument)">getCachedVersionList</a></span>&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</code></th>
<td class="colLast">
<div class="block">Retrieve all filename previously cached for the specified FileDocument.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code><a href="../FileSize.html" title="class in com.jalios.jcms">FileSize</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCacheFileSize(java.io.File)">getCacheFileSize</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">
<div class="block">get the cache file size with computed size</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getChannelQuotaAlert()">getChannelQuotaAlert</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code><a href="FileAnalyzerThread.html" title="class in com.jalios.jcms.quota">FileAnalyzerThread</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCurrentChannelAnalyzerThread()">getCurrentChannelAnalyzerThread</a></span>()</code></th>
<td class="colLast">
<div class="block">Return the current analyzer thread if analyze is in progress</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDefaultAlertThreshold()">getDefaultAlertThreshold</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDefaultQuotaSize()">getDefaultQuotaSize</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code><a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getElement(com.jalios.jcms.workspace.Workspace)">getElement</a></span>&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</code></th>
<td class="colLast">
<div class="block">create a <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> for a <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a>.</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>,&#8203;<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getElements()">getElements</a></span>()</code></th>
<td class="colLast">
<div class="block">returns the <code>Map</code> with all <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> per workspace, the value with the null key is for the whole site.</div>
</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>java.util.Map&lt;<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>,&#8203;<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getElements(com.jalios.jcms.workspace.Workspace)">getElements</a></span>&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;workspace)</code></th>
<td class="colLast">
<div class="block">returns the <code>Map</code> with all <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> per workspace, the value with the null key is for the whole site.</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code><a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota">WorkspaceFileSizeResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getGlobalFileAnalyzer(boolean)">getGlobalFileAnalyzer</a></span>&#8203;(boolean&nbsp;refresh)</code></th>
<td class="colLast">
<div class="block">returns <a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota"><code>WorkspaceFileSizeResult</code></a> instance associated with this site.</div>
</td>
</tr>
<tr id="i21" class="rowColor">
<td class="colFirst"><code>static <a href="QuotaManager.html" title="class in com.jalios.jcms.quota">QuotaManager</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInstance()">getInstance</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i22" class="altColor">
<td class="colFirst"><code>long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLastChannelQuotaNotificationDate()">getLastChannelQuotaNotificationDate</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i23" class="rowColor">
<td class="colFirst"><code><a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getSiteElement()">getSiteElement</a></span>()</code></th>
<td class="colLast">
<div class="block">create a <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> for a whiole site.</div>
</td>
</tr>
<tr id="i24" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleAlarm(com.jalios.jdring.AlarmEntry)">handleAlarm</a></span>&#8203;(<a href="../../jdring/AlarmEntry.html" title="class in com.jalios.jdring">AlarmEntry</a>&nbsp;entry)</code></th>
<td class="colLast">
<div class="block">Manage periodically quota refresh</div>
</td>
</tr>
<tr id="i25" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#handleFileAnalyzeEnd(com.jalios.jcms.quota.WorkspaceFileSizeResult)">handleFileAnalyzeEnd</a></span>&#8203;(<a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota">WorkspaceFileSizeResult</a>&nbsp;fileAnalyzer)</code></th>
<td class="colLast">
<div class="block">This method is called when global file analyzer has end</div>
</td>
</tr>
<tr id="i26" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isQuotaEnabled()">isQuotaEnabled</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i27" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isQuotaFeatureEnabled()">isQuotaFeatureEnabled</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i28" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUploadAccepted(long,com.jalios.jcms.workspace.Workspace)">isUploadAccepted</a></span>&#8203;(long&nbsp;fileLength,
                <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</code></th>
<td class="colLast">
<div class="block">indicates if document can be uploaded (regarding the global site quota and provided workspace if not null)</div>
</td>
</tr>
<tr id="i29" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUploadAccepted(com.jalios.jcms.upload.DocUploadInfo)">isUploadAccepted</a></span>&#8203;(<a href="../upload/DocUploadInfo.html" title="class in com.jalios.jcms.upload">DocUploadInfo</a>&nbsp;info)</code></th>
<td class="colLast">
<div class="block">indicates if document can be uploaded (regarding the global site quota)</div>
</td>
</tr>
<tr id="i30" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUploadAccepted(com.jalios.jcms.upload.DocUploadInfo,com.jalios.jcms.workspace.Workspace)">isUploadAccepted</a></span>&#8203;(<a href="../upload/DocUploadInfo.html" title="class in com.jalios.jcms.upload">DocUploadInfo</a>&nbsp;info,
                <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</code></th>
<td class="colLast">
<div class="block">indicates if document can be uploaded (regarding the global site quota and provided workspace if not null)</div>
</td>
</tr>
<tr id="i31" class="rowColor">
<td class="colFirst"><code><a href="../ControllerStatus.html" title="class in com.jalios.jcms">ControllerStatus</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUploadEnabled()">isUploadEnabled</a></span>()</code></th>
<td class="colLast">
<div class="block">indicates if upload is enabled for all the site</div>
</td>
</tr>
<tr id="i32" class="altColor">
<td class="colFirst"><code><a href="../ControllerStatus.html" title="class in com.jalios.jcms">ControllerStatus</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isUploadEnabled(com.jalios.jcms.workspace.Workspace)">isUploadEnabled</a></span>&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</code></th>
<td class="colLast">
<div class="block">indicates if upload is enabled for all the site and provided workspace if not null</div>
</td>
</tr>
<tr id="i33" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#propertiesChange(com.jalios.util.JProperties)">propertiesChange</a></span>&#8203;(<a href="../../util/JProperties.html" title="class in com.jalios.util">JProperties</a>&nbsp;properties)</code></th>
<td class="colLast">
<div class="block">Invoked after properties have been modified in JCMS and save on disk.</div>
</td>
</tr>
<tr id="i34" class="altColor">
<td class="colFirst"><code>protected void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#readProperties()">readProperties</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i35" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setChannelQuotaAlert(com.jalios.jcms.quota.QuotaElement)">setChannelQuotaAlert</a></span>&#8203;(<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a>&nbsp;channelQuotaAlert)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i36" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDefaultAlertThreshold(int)">setDefaultAlertThreshold</a></span>&#8203;(int&nbsp;defaultAlertThreshold)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i37" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setDefaultQuotaSize(long)">setDefaultQuotaSize</a></span>&#8203;(long&nbsp;defaultQuotaSize)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i38" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setLastChannelQuotaNotificationDate(long)">setLastChannelQuotaNotificationDate</a></span>&#8203;(long&nbsp;lastChannelQuotaNotificationDate)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i39" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#shutdownThreads()">shutdownThreads</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr id="i40" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateAfterFileChange(java.io.File)">updateAfterFileChange</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">
<div class="block">update quota after a file change</div>
</td>
</tr>
<tr id="i41" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateAfterFileDocumentChange(com.jalios.jcms.FileDocument)">updateAfterFileDocumentChange</a></span>&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</code></th>
<td class="colLast">
<div class="block">update quota after a filedocument change</div>
</td>
</tr>
<tr id="i42" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateCacheFileSize(java.io.File,com.jalios.jcms.FileSize)">updateCacheFileSize</a></span>&#8203;(java.io.File&nbsp;file,
                   <a href="../FileSize.html" title="class in com.jalios.jcms">FileSize</a>&nbsp;fileSizeObj)</code></th>
<td class="colLast">
<div class="block">update the cache file size with computed size</div>
</td>
</tr>
<tr id="i43" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateQuota(com.jalios.jcms.workspace.Workspace)">updateQuota</a></span>&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</code></th>
<td class="colLast">
<div class="block">Update workspace quota in separate threads</div>
</td>
</tr>
<tr id="i44" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateWorkspacesQuota()">updateWorkspacesQuota</a></span>()</code></th>
<td class="colLast">
<div class="block">Update all workspaces quota in separate threads</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="ADMIN_QUOTA_DEFAULT_WORKSPACE_QUOTA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ADMIN_QUOTA_DEFAULT_WORKSPACE_QUOTA</h4>
<pre>public static final&nbsp;java.lang.String ADMIN_QUOTA_DEFAULT_WORKSPACE_QUOTA</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.ADMIN_QUOTA_DEFAULT_WORKSPACE_QUOTA">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="ADMIN_QUOTA_MAXIMUM_SITE_QUOTA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ADMIN_QUOTA_MAXIMUM_SITE_QUOTA</h4>
<pre>public static final&nbsp;java.lang.String ADMIN_QUOTA_MAXIMUM_SITE_QUOTA</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.ADMIN_QUOTA_MAXIMUM_SITE_QUOTA">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="ADMIN_QUOTA_DEFAULT_WORKSPACE_ALERT_THRESHOLD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ADMIN_QUOTA_DEFAULT_WORKSPACE_ALERT_THRESHOLD</h4>
<pre>public static final&nbsp;java.lang.String ADMIN_QUOTA_DEFAULT_WORKSPACE_ALERT_THRESHOLD</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.ADMIN_QUOTA_DEFAULT_WORKSPACE_ALERT_THRESHOLD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="ADMIN_QUOTA_SITE_ALERT_THRESHOLD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ADMIN_QUOTA_SITE_ALERT_THRESHOLD</h4>
<pre>public static final&nbsp;java.lang.String ADMIN_QUOTA_SITE_ALERT_THRESHOLD</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.ADMIN_QUOTA_SITE_ALERT_THRESHOLD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="ADMIN_QUOTA_DELAY_BETWEEN_QUOTA_ALERT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ADMIN_QUOTA_DELAY_BETWEEN_QUOTA_ALERT</h4>
<pre>public static final&nbsp;java.lang.String ADMIN_QUOTA_DELAY_BETWEEN_QUOTA_ALERT</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.ADMIN_QUOTA_DELAY_BETWEEN_QUOTA_ALERT">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="ADMIN_QUOTA_CHECK_SCHEDULE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ADMIN_QUOTA_CHECK_SCHEDULE</h4>
<pre>public static final&nbsp;java.lang.String ADMIN_QUOTA_CHECK_SCHEDULE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.ADMIN_QUOTA_CHECK_SCHEDULE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CHANNEL_FILE_ANALYZER_THREAD_POOL_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHANNEL_FILE_ANALYZER_THREAD_POOL_SIZE</h4>
<pre>public static final&nbsp;java.lang.String CHANNEL_FILE_ANALYZER_THREAD_POOL_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.CHANNEL_FILE_ANALYZER_THREAD_POOL_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CHANNEL_WS_UPDATER_THREAD_POOL_SIZE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHANNEL_WS_UPDATER_THREAD_POOL_SIZE</h4>
<pre>public static final&nbsp;java.lang.String CHANNEL_WS_UPDATER_THREAD_POOL_SIZE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.CHANNEL_WS_UPDATER_THREAD_POOL_SIZE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CHANNEL_QUOTA_MANAGEMENT_ENABLED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHANNEL_QUOTA_MANAGEMENT_ENABLED</h4>
<pre>public static final&nbsp;java.lang.String CHANNEL_QUOTA_MANAGEMENT_ENABLED</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.CHANNEL_QUOTA_MANAGEMENT_ENABLED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="REJECT_UPLOAD_OVER_QUOTA_PROPERTIES_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>REJECT_UPLOAD_OVER_QUOTA_PROPERTIES_NAME</h4>
<pre>public static final&nbsp;java.lang.String REJECT_UPLOAD_OVER_QUOTA_PROPERTIES_NAME</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.REJECT_UPLOAD_OVER_QUOTA_PROPERTIES_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="CHANNEL_QUOTA_FEATURE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CHANNEL_QUOTA_FEATURE</h4>
<pre>public static final&nbsp;java.lang.String CHANNEL_QUOTA_FEATURE</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.CHANNEL_QUOTA_FEATURE">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_ALERT_THRESHOLD">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_ALERT_THRESHOLD</h4>
<pre>public static final&nbsp;int DEFAULT_ALERT_THRESHOLD</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.DEFAULT_ALERT_THRESHOLD">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_WORKSPACE_QUOTA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_WORKSPACE_QUOTA</h4>
<pre>public static final&nbsp;long DEFAULT_WORKSPACE_QUOTA</pre>
</li>
</ul>
<a id="DEFAULT_SITE_QUOTA">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_SITE_QUOTA</h4>
<pre>public static final&nbsp;long DEFAULT_SITE_QUOTA</pre>
</li>
</ul>
<a id="DEFAULT_DELAY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_DELAY</h4>
<pre>public static final&nbsp;long DEFAULT_DELAY</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../constant-values.html#com.jalios.jcms.quota.QuotaManager.DEFAULT_DELAY">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="channelFileAnalyzer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>channelFileAnalyzer</h4>
<pre>protected transient&nbsp;<a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota">WorkspaceFileSizeResult</a> channelFileAnalyzer</pre>
</li>
</ul>
<a id="previousChannelFileAnalyzer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>previousChannelFileAnalyzer</h4>
<pre>protected transient&nbsp;<a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota">WorkspaceFileSizeResult</a> previousChannelFileAnalyzer</pre>
</li>
</ul>
<a id="currentChannelAnalyzerThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>currentChannelAnalyzerThread</h4>
<pre>protected transient&nbsp;<a href="FileAnalyzerThread.html" title="class in com.jalios.jcms.quota">FileAnalyzerThread</a> currentChannelAnalyzerThread</pre>
</li>
</ul>
<a id="analyzerThreadPool">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>analyzerThreadPool</h4>
<pre>protected transient&nbsp;java.util.concurrent.ExecutorService analyzerThreadPool</pre>
</li>
</ul>
<a id="wsUpdaterThreadPool">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wsUpdaterThreadPool</h4>
<pre>protected transient&nbsp;java.util.concurrent.ExecutorService wsUpdaterThreadPool</pre>
</li>
</ul>
<a id="lastChannelQuotaNotificationDate">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>lastChannelQuotaNotificationDate</h4>
<pre>protected transient&nbsp;long lastChannelQuotaNotificationDate</pre>
</li>
</ul>
<a id="channelQuotaAlert">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>channelQuotaAlert</h4>
<pre>protected transient&nbsp;<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a> channelQuotaAlert</pre>
</li>
</ul>
<a id="cacheFileSize">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>cacheFileSize</h4>
<pre>protected transient&nbsp;java.util.Map&lt;java.lang.String,&#8203;<a href="../FileSize.html" title="class in com.jalios.jcms">FileSize</a>&gt; cacheFileSize</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre class="methodSignature">public static&nbsp;<a href="QuotaManager.html" title="class in com.jalios.jcms.quota">QuotaManager</a>&nbsp;getInstance()</pre>
</li>
</ul>
<a id="propertiesChange(com.jalios.util.JProperties)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>propertiesChange</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;propertiesChange&#8203;(<a href="../../util/JProperties.html" title="class in com.jalios.util">JProperties</a>&nbsp;properties)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../util/JPropertiesListener.html#propertiesChange(com.jalios.util.JProperties)">JPropertiesListener</a></code></span></div>
<div class="block">Invoked after properties have been modified in JCMS and save on disk.<p>
 You cannot alter the value received in parameters.<p>
 Note that properties parameter may be null, a limited set of site properties, or all site properties.<p>
 To check that a property has been modified, reload the &quot;current&quot; property instead using <code>channel.getProperties</code> or
 <code>channel.getProperty</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../util/JPropertiesListener.html#propertiesChange(com.jalios.util.JProperties)">propertiesChange</a></code>&nbsp;in interface&nbsp;<code><a href="../../util/JPropertiesListener.html" title="interface in com.jalios.util">JPropertiesListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>properties</code> - the properties which have been submitted to change</dd>
</dl>
</li>
</ul>
<a id="readProperties()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>readProperties</h4>
<pre class="methodSignature">protected&nbsp;void&nbsp;readProperties()</pre>
</li>
</ul>
<a id="isQuotaFeatureEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isQuotaFeatureEnabled</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isQuotaFeatureEnabled()</pre>
</li>
</ul>
<a id="getElement(com.jalios.jcms.workspace.Workspace)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getElement</h4>
<pre class="methodSignature">public&nbsp;<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a>&nbsp;getElement&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</pre>
<div class="block">create a <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> for a <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a>. If the workspace has a running analyze thread, this method will return null</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wk</code> - the <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a></dd>
</dl>
</li>
</ul>
<a id="getSiteElement()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSiteElement</h4>
<pre class="methodSignature">public&nbsp;<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a>&nbsp;getSiteElement()</pre>
<div class="block">create a <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> for a whiole site. If the site has a running analyze thread, this method will return null</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a></dd>
</dl>
</li>
</ul>
<a id="getElements()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getElements</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>,&#8203;<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a>&gt;&nbsp;getElements()</pre>
<div class="block">returns the <code>Map</code> with all <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> per workspace, the value with the null key is for the whole site. Values can be null is a running analyze thread exists for the workspace or site.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <code>Map</code> with all <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> per workspace, the value with the null key is for the whole site. Values can be null is a running analyze thread exists for the workspace or site.</dd>
</dl>
</li>
</ul>
<a id="getElements(com.jalios.jcms.workspace.Workspace)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getElements</h4>
<pre class="methodSignature">public&nbsp;java.util.Map&lt;<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>,&#8203;<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a>&gt;&nbsp;getElements&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;workspace)</pre>
<div class="block">returns the <code>Map</code> with all <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> per workspace, the value with the null key is for the whole site. Values can be null is a running analyze thread exists for the workspace or site.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workspace</code> - the workspace used to filter elements (if null, global element are returned)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <code>Map</code> with all <a href="QuotaElement.html" title="class in com.jalios.jcms.quota"><code>QuotaElement</code></a> per workspace, the value with the null key is for the whole site. Values can be null is a running analyze thread exists for the workspace or site.</dd>
</dl>
</li>
</ul>
<a id="isQuotaEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isQuotaEnabled</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isQuotaEnabled()</pre>
</li>
</ul>
<a id="getDefaultQuotaSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultQuotaSize</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getDefaultQuotaSize()</pre>
</li>
</ul>
<a id="setDefaultQuotaSize(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultQuotaSize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDefaultQuotaSize&#8203;(long&nbsp;defaultQuotaSize)</pre>
</li>
</ul>
<a id="getDefaultAlertThreshold()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDefaultAlertThreshold</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getDefaultAlertThreshold()</pre>
</li>
</ul>
<a id="setDefaultAlertThreshold(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setDefaultAlertThreshold</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setDefaultAlertThreshold&#8203;(int&nbsp;defaultAlertThreshold)</pre>
</li>
</ul>
<a id="createAssociatedFilesEventListener()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createAssociatedFilesEventListener</h4>
<pre class="methodSignature">public&nbsp;<a href="../AssociatedFilesEventListener.html" title="interface in com.jalios.jcms">AssociatedFilesEventListener</a>&nbsp;createAssociatedFilesEventListener()</pre>
</li>
</ul>
<a id="updateWorkspacesQuota()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateWorkspacesQuota</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateWorkspacesQuota()</pre>
<div class="block">Update all workspaces quota in separate threads</div>
</li>
</ul>
<a id="updateQuota(com.jalios.jcms.workspace.Workspace)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateQuota</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateQuota&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</pre>
<div class="block">Update workspace quota in separate threads</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wk</code> - the workspace</dd>
</dl>
</li>
</ul>
<a id="associatedFileEventFired(com.jalios.jcms.AssociatedFileEvent)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>associatedFileEventFired</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;associatedFileEventFired&#8203;(<a href="../AssociatedFileEvent.html" title="class in com.jalios.jcms">AssociatedFileEvent</a>&nbsp;event)</pre>
<div class="block">Trigger a quota refresh if a new associated file is added/updated or deleted</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../AssociatedFilesEventListener.html#associatedFileEventFired(com.jalios.jcms.AssociatedFileEvent)">associatedFileEventFired</a></code>&nbsp;in interface&nbsp;<code><a href="../AssociatedFilesEventListener.html" title="interface in com.jalios.jcms">AssociatedFilesEventListener</a></code></dd>
</dl>
</li>
</ul>
<a id="updateAfterFileChange(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateAfterFileChange</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateAfterFileChange&#8203;(java.io.File&nbsp;file)</pre>
<div class="block">update quota after a file change</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the <code>File</code></dd>
</dl>
</li>
</ul>
<a id="updateAfterFileDocumentChange(com.jalios.jcms.FileDocument)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateAfterFileDocumentChange</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateAfterFileDocumentChange&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</pre>
<div class="block">update quota after a filedocument change</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileDoc</code> - the <a href="../FileDocument.html" title="class in com.jalios.jcms"><code>FileDocument</code></a></dd>
</dl>
</li>
</ul>
<a id="handleAlarm(com.jalios.jdring.AlarmEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleAlarm</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleAlarm&#8203;(<a href="../../jdring/AlarmEntry.html" title="class in com.jalios.jdring">AlarmEntry</a>&nbsp;entry)</pre>
<div class="block">Manage periodically quota refresh</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../jdring/AlarmListener.html#handleAlarm(com.jalios.jdring.AlarmEntry)">handleAlarm</a></code>&nbsp;in interface&nbsp;<code><a href="../../jdring/AlarmListener.html" title="interface in com.jalios.jdring">AlarmListener</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entry</code> - the AlarmEntry which has been triggered.</dd>
</dl>
</li>
</ul>
<a id="checkQuotas()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkQuotas</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;checkQuotas()</pre>
<div class="block">Check all quotas and send notifications if needed.</div>
</li>
</ul>
<a id="checkQuotas(com.jalios.jcms.workspace.Workspace)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkQuotas</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;checkQuotas&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;workspace)</pre>
<div class="block">Check workspace quota and send notifications if needed, this method is called after the end of an analyzeThread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>workspace</code> - the workspace to check, or null for the global sire</dd>
</dl>
</li>
</ul>
<a id="executeFileAnalyzerThread(com.jalios.jcms.workspace.Workspace)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>executeFileAnalyzerThread</h4>
<pre class="methodSignature">public&nbsp;<a href="FileAnalyzerThread.html" title="class in com.jalios.jcms.quota">FileAnalyzerThread</a>&nbsp;executeFileAnalyzerThread&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;workspace)</pre>
</li>
</ul>
<a id="getAnalyzerThreadPool()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAnalyzerThreadPool</h4>
<pre class="methodSignature">public&nbsp;java.util.concurrent.ExecutorService&nbsp;getAnalyzerThreadPool()</pre>
<div class="block">get analyzer thread pool use to count real file size in background mode</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <code>ExecutorService</code></dd>
</dl>
</li>
</ul>
<a id="getGlobalFileAnalyzer(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getGlobalFileAnalyzer</h4>
<pre class="methodSignature">public&nbsp;<a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota">WorkspaceFileSizeResult</a>&nbsp;getGlobalFileAnalyzer&#8203;(boolean&nbsp;refresh)</pre>
<div class="block">returns <a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota"><code>WorkspaceFileSizeResult</code></a> instance associated with this site. Note that as file analyze is down asynchronously, this method should returns null if an analyze is in progress (or if refresh is asked).
 In this case, user should ask getCurrentAnalyzerThread() to retrieve the analyze thread. getCompleteness() method on the thread can be used to know the state of the thread.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>refresh</code> - force to ignore data previously present in cache</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota"><code>WorkspaceFileSizeResult</code></a> instance associated with this site or null if an analyze is in progress (or if refresh is asked).</dd>
</dl>
</li>
</ul>
<a id="getCurrentChannelAnalyzerThread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentChannelAnalyzerThread</h4>
<pre class="methodSignature">public&nbsp;<a href="FileAnalyzerThread.html" title="class in com.jalios.jcms.quota">FileAnalyzerThread</a>&nbsp;getCurrentChannelAnalyzerThread()</pre>
<div class="block">Return the current analyzer thread if analyze is in progress</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="FileAnalyzerThread.html" title="class in com.jalios.jcms.quota"><code>FileAnalyzerThread</code></a> or null if no analyze is running</dd>
</dl>
</li>
</ul>
<a id="handleFileAnalyzeEnd(com.jalios.jcms.quota.WorkspaceFileSizeResult)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>handleFileAnalyzeEnd</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;handleFileAnalyzeEnd&#8203;(<a href="WorkspaceFileSizeResult.html" title="class in com.jalios.jcms.quota">WorkspaceFileSizeResult</a>&nbsp;fileAnalyzer)</pre>
<div class="block">This method is called when global file analyzer has end</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileAnalyzer</code> - a WorkspaceFileAnalyzer</dd>
</dl>
</li>
</ul>
<a id="getLastChannelQuotaNotificationDate()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLastChannelQuotaNotificationDate</h4>
<pre class="methodSignature">public&nbsp;long&nbsp;getLastChannelQuotaNotificationDate()</pre>
</li>
</ul>
<a id="setLastChannelQuotaNotificationDate(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setLastChannelQuotaNotificationDate</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setLastChannelQuotaNotificationDate&#8203;(long&nbsp;lastChannelQuotaNotificationDate)</pre>
</li>
</ul>
<a id="getChannelQuotaAlert()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChannelQuotaAlert</h4>
<pre class="methodSignature">public&nbsp;<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a>&nbsp;getChannelQuotaAlert()</pre>
</li>
</ul>
<a id="setChannelQuotaAlert(com.jalios.jcms.quota.QuotaElement)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setChannelQuotaAlert</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;setChannelQuotaAlert&#8203;(<a href="QuotaElement.html" title="class in com.jalios.jcms.quota">QuotaElement</a>&nbsp;channelQuotaAlert)</pre>
</li>
</ul>
<a id="shutdownThreads()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>shutdownThreads</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;shutdownThreads()</pre>
</li>
</ul>
<a id="updateCacheFileSize(java.io.File,com.jalios.jcms.FileSize)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCacheFileSize</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateCacheFileSize&#8203;(java.io.File&nbsp;file,
                                <a href="../FileSize.html" title="class in com.jalios.jcms">FileSize</a>&nbsp;fileSizeObj)</pre>
<div class="block">update the cache file size with computed size</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the <code>File</code> used to generate map key</dd>
<dd><code>fileSizeObj</code> - the <a href="../FileSize.html" title="class in com.jalios.jcms"><code>FileSize</code></a> to store</dd>
</dl>
</li>
</ul>
<a id="getCacheFileSize(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCacheFileSize</h4>
<pre class="methodSignature">public&nbsp;<a href="../FileSize.html" title="class in com.jalios.jcms">FileSize</a>&nbsp;getCacheFileSize&#8203;(java.io.File&nbsp;file)</pre>
<div class="block">get the cache file size with computed size</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>file</code> - the <code>File</code> used to generate map key</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the size stored for this file or 0L if the file cannot be found.</dd>
</dl>
</li>
</ul>
<a id="computeFileSizes(java.io.File,com.jalios.jcms.AssociatedFilesManager)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeFileSizes</h4>
<pre class="methodSignature">public static&nbsp;<a href="../FileSize.html" title="class in com.jalios.jcms">FileSize</a>&nbsp;computeFileSizes&#8203;(java.io.File&nbsp;realFile,
                                        <a href="../AssociatedFilesManager.html" title="class in com.jalios.jcms">AssociatedFilesManager</a>&nbsp;afMgr)</pre>
<div class="block">Compute file size (with and without associated files)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>realFile</code> - the <code>File</code></dd>
<dd><code>afMgr</code> - the current <a href="../AssociatedFilesManager.html" title="class in com.jalios.jcms"><code>AssociatedFilesManager</code></a> if any</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array of long, the first element is the size without any associated files and the second with these files</dd>
</dl>
</li>
</ul>
<a id="generateWorkspaceTreeList()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateWorkspaceTreeList</h4>
<pre class="methodSignature">public static&nbsp;java.util.List&lt;<a href="QuotaManager.WorkspaceNode.html" title="class in com.jalios.jcms.quota">QuotaManager.WorkspaceNode</a>&gt;&nbsp;generateWorkspaceTreeList()</pre>
<div class="block">Generate <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a> <code>List</code> ordered by tree order and with <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a>.getNameComparator by level</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a> <code>List</code> already sorted</dd>
</dl>
</li>
</ul>
<a id="getCachedVersionList(com.jalios.jcms.FileDocument)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCachedVersionList</h4>
<pre class="methodSignature">public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getCachedVersionList&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</pre>
<div class="block">Retrieve all filename previously cached for the specified FileDocument.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileDoc</code> - the FileDocument for which filename cache must be retrieved</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a List of filename, may return null if no filename was ever cached for the specified FileDocument</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#addDocumentToVersionCache(com.jalios.jcms.FileDocument)"><code>addDocumentToVersionCache(FileDocument)</code></a>, 
<a href="#addDocumentVersionToVersionCache(com.jalios.jcms.FileDocument,com.jalios.jcms.FileDocument)"><code>addDocumentVersionToVersionCache(FileDocument, FileDocument)</code></a>, 
<a href="#deleteDocumentFromVersionCache(com.jalios.jcms.FileDocument)"><code>deleteDocumentFromVersionCache(FileDocument)</code></a></dd>
</dl>
</li>
</ul>
<a id="addDocumentToVersionCache(com.jalios.jcms.FileDocument)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDocumentToVersionCache</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addDocumentToVersionCache&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</pre>
<div class="block">Add the current filename of the specified FileDocument to the cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileDoc</code> - the FileDocument whose filename must be cached</dd>
</dl>
</li>
</ul>
<a id="addDocumentVersionToVersionCache(com.jalios.jcms.FileDocument,com.jalios.jcms.FileDocument)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addDocumentVersionToVersionCache</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addDocumentVersionToVersionCache&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;oldFileDoc,
                                             <a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</pre>
<div class="block">Add the current filename of the new FileDocument version to the cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>oldFileDoc</code> - Previous document (ignored in current implementation)</dd>
<dd><code>fileDoc</code> - the new FileDocument whose filename must be cached</dd>
</dl>
</li>
</ul>
<a id="deleteDocumentFromVersionCache(com.jalios.jcms.FileDocument)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteDocumentFromVersionCache</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;deleteDocumentFromVersionCache&#8203;(<a href="../FileDocument.html" title="class in com.jalios.jcms">FileDocument</a>&nbsp;fileDoc)</pre>
<div class="block">Remove filename of the specified FileDocument from the cache.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileDoc</code> - FileDocument whose filename must be removed</dd>
</dl>
</li>
</ul>
<a id="isUploadEnabled()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUploadEnabled</h4>
<pre class="methodSignature">public&nbsp;<a href="../ControllerStatus.html" title="class in com.jalios.jcms">ControllerStatus</a>&nbsp;isUploadEnabled()</pre>
<div class="block">indicates if upload is enabled for all the site</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ControllerStatus.OK if it is enabled, false otherwise. a warn <a href="../context/JcmsMessage.html" title="class in com.jalios.jcms.context"><code>JcmsMessage</code></a> is available in status message.</dd>
</dl>
</li>
</ul>
<a id="isUploadEnabled(com.jalios.jcms.workspace.Workspace)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUploadEnabled</h4>
<pre class="methodSignature">public&nbsp;<a href="../ControllerStatus.html" title="class in com.jalios.jcms">ControllerStatus</a>&nbsp;isUploadEnabled&#8203;(<a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</pre>
<div class="block">indicates if upload is enabled for all the site and provided workspace if not null</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>wk</code> - the <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a> to check for quota</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>ControllerStatus.OK if it is enabled, false otherwise. a warn <a href="../context/JcmsMessage.html" title="class in com.jalios.jcms.context"><code>JcmsMessage</code></a> is available in status message.</dd>
</dl>
</li>
</ul>
<a id="isUploadAccepted(com.jalios.jcms.upload.DocUploadInfo)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUploadAccepted</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isUploadAccepted&#8203;(<a href="../upload/DocUploadInfo.html" title="class in com.jalios.jcms.upload">DocUploadInfo</a>&nbsp;info)</pre>
<div class="block">indicates if document can be uploaded (regarding the global site quota)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>info</code> - the <a href="../upload/DocUploadInfo.html" title="class in com.jalios.jcms.upload"><code>DocUploadInfo</code></a> used to compute new size</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true is accepted, false otherwise. a warn <a href="../context/JcmsMessage.html" title="class in com.jalios.jcms.context"><code>JcmsMessage</code></a> is available in <a href="../context/JcmsContext.html" title="class in com.jalios.jcms.context"><code>JcmsContext</code></a> if it's disabled.</dd>
</dl>
</li>
</ul>
<a id="isUploadAccepted(com.jalios.jcms.upload.DocUploadInfo,com.jalios.jcms.workspace.Workspace)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isUploadAccepted</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isUploadAccepted&#8203;(<a href="../upload/DocUploadInfo.html" title="class in com.jalios.jcms.upload">DocUploadInfo</a>&nbsp;info,
                                <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</pre>
<div class="block">indicates if document can be uploaded (regarding the global site quota and provided workspace if not null)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>info</code> - the <a href="../upload/DocUploadInfo.html" title="class in com.jalios.jcms.upload"><code>DocUploadInfo</code></a> used to compute new size</dd>
<dd><code>wk</code> - the <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a> to check for quota</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true is accepted, false otherwise. a warn <a href="../context/JcmsMessage.html" title="class in com.jalios.jcms.context"><code>JcmsMessage</code></a> is available in <a href="../context/JcmsContext.html" title="class in com.jalios.jcms.context"><code>JcmsContext</code></a> if it's disabled.</dd>
</dl>
</li>
</ul>
<a id="isUploadAccepted(long,com.jalios.jcms.workspace.Workspace)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>isUploadAccepted</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isUploadAccepted&#8203;(long&nbsp;fileLength,
                                <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace">Workspace</a>&nbsp;wk)</pre>
<div class="block">indicates if document can be uploaded (regarding the global site quota and provided workspace if not null)</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fileLength</code> - the length of the file used to compute new size</dd>
<dd><code>wk</code> - the <a href="../workspace/Workspace.html" title="class in com.jalios.jcms.workspace"><code>Workspace</code></a> to check for quota</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true is accepted, false otherwise. a warn <a href="../context/JcmsMessage.html" title="class in com.jalios.jcms.context"><code>JcmsMessage</code></a> is available in <a href="../context/JcmsContext.html" title="class in com.jalios.jcms.context"><code>JcmsContext</code></a> if it's disabled.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/QuotaManager.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small><i>Copyright &#169; 2001-2023 Jalios SA. All Rights Reserved.</i></small></p>
</footer>
</body>
</html>
